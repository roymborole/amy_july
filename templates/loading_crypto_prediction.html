{% extends "base.html" %}
{% block content %}

<div class="container loading-container">
    <div id="lottie-animation" class="animation-container">
        <!-- Lottie animation will be inserted here by JavaScript -->
    </div>

    <h2 class="text-center pink-heading">Holy Crypto! We're Predicting the Future of Digital Gold!</h2>
</div>

{% endblock %}

{% block styles %}
    {{ super() }}
    <style>
        .loading-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }
        .animation-container {
            width: 300px;
            height: 300px;
        }
        .pink-heading {
            color: #ff69b4;
            margin-top: 20px;
        }
    </style>
{% endblock %}

{% block scripts %}
    {{ super() }}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.7.14/lottie.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var animation = lottie.loadAnimation({
                container: document.getElementById('lottie-animation'),
                renderer: 'svg',
                loop: true,
                autoplay: true,
                path: "{{ url_for('static', filename='crypto_prediction_animation.json') }}"  // Make sure to create this JSON file
            });
        });

        // Redirect to the prediction result page after a delay
        setTimeout(function() {
            window.location.href = "{{ url_for('crypto_predict', crypto_name=asset_name) }}";
        }, 5000);  // 5000 milliseconds = 5 seconds
    </script>
{% endblock %}